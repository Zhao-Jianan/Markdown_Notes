# Linux基础命令
## Linux的目录结构
### Linux的目录结构
Linux的目录结构是一个树型结构
Windows 系统可以拥有多个盘符, 如 C盘、D盘、E盘
Linux没有盘符这个概念, 只有一个根目录 /, 所有文件都在它下面

### Linux路径的描述方式
- 在Linux系统中，路径之间的层级关系，使用：/ 来表示
- 在Windows系统中，路径之间的层级关系，使用： \ 来表示

## Linux命令
### Linux命令基础格式
无论是什么命令，用于什么用途，在Linux中，命令有其通用的格式：
```
command [-options] [parameter]
```
- command： 命令本身
- -options：[可选，非必填]命令的一些选项，可以通过选项控制命令的行为细节
- parameter：[可选，非必填]命令的参数，多数用于命令的指向目标等
- 语法中的[]，表示可选的意思

### ls命令
ls命令的作用是列出目录下的内容
#### 语法
```
ls [-a -l -h] [Linux路径]
```
- -a -l -h 是可选的选项
- -a选项，表示：all的意思，即列出全部文件（包含隐藏的文件/文件夹）
在Linux系统中，以”.”开头的文件\文件夹会自动隐藏，只有通过-a选项才可以展示出来
- -l选项，表示：以列表（竖向排列）的形式展示内容，并展示更多信息。-l选项其实和图形化中，文件夹以列表形式排列是一个意思，ls -l可简写为ll
- -h 表示以易于阅读的形式，列出文件大小，如K、M、G。-h选项必须要搭配 -l 一起使用

- Linux路径是此命令可选的参数，当使用路径参数时，ls命令表示：指定一个Linux路径，列出指定路径的内容
- 当不使用选项和参数，直接使用ls命令本体，表示：以平铺形式，列出当前工作目录下的内容

#### HOME目录和工作目录
直接输入ls命令，表示列出当前工作目录下的内容
Linux系统的命令行终端，在启动的时候，默认会加载:
- 当前登录用户的HOME目录作为当前工作目录，所以ls命令列出的是HOME目录的内容
- HOME目录：每个Linux操作用户在Linux系统的个人账户目录，路径在：/home/用户名

#### ls命令选项的组合使用
语法中的选项是可以组合使用的，比如学习的-a和-l可以组合应用。
写法：
```
ls -l -a
```
```
ls -la
```
```
ls -al
```
上述三种写法，都是一样的，表示同时应用-l和-a的功能

除了选项本身可以组合以外，选项和参数也可以一起使用



### 目录切换相关命令
#### cd----切换工作目录
当Linux终端（命令行）打开的时候，会默认以用户的HOME目录作为当前的工作目录
我们可以通过cd命令，更改当前所在的工作目录
cd命令来自英文：Change Directory
- 语法
  - cd命令无需选项，只有参数，表示要切换到哪个目录下
  - cd命令直接执行，不写参数，表示回到用户的HOME目录

#### pwd----查看当前工作目录
通过ls来验证当前的工作目录，其实是不恰当的
我们可以通过pwd命令，来查看当前所在的工作目录
pwd命令来自：Print Work Directory
- 语法
pwd命令，无选项，无参数，直接输入pwd即可

### 相对路径、绝对路径和特殊路径符
#### 绝对路径
以根目录为起点，描述路径的一种写法，路径描述以/开头
#### 相对路径
以当前目录为起点，描述路径的一种写法，路径描述无需以/开头
#### 特殊路径符
-  .
表示当前目录，比如 ```cd ./Desktop``` 表示切换到当前目录下的Desktop目录内，和cd Desktop效果一致
-  ..
表示上一级目录，比如：```cd ..```   即可切换到上一级目录，```cd ../..```  切换到上二级的目录
-  ~
表示HOME目录，比如：```cd ~```    即可切换到HOME目录或 ```cd ~/Desktop``` ，切换到HOME内的Desktop目录

### 创建目录命令
#### mkdir
通过mkdir命令可以创建新的目录（文件夹）
mkdir来自：Make Directory
#### 语法
```
mkdir [-p] Linux路径参数
```
- 参数必填，表示Linux路径，即要创建的文件夹的路径，相对路径或绝对路径均可
- -p选项可选，表示自动创建不存在的父目录，适用于创建连续多层级的目录

```Ctrl+L```：清屏

**注意：创建文件夹需要修改权限，确保操作均在HOME目录内，不要在HOME外操作涉及到权限问题，HOME外无法成功**

### 文件操作命令
#### touch----创建文件
可以通过touch命令创建文件
- 语法
```
touch Linux路径
```
touch命令无选项，参数必填，表示要创建的文件路径，相对、绝对、特殊路径符均可以使用

#### cat命令----查看文件内容
通过cat命令查看文件的内容
- 语法
```
cat Linux路径
```
cat同样没有选项，只有必填参数，参数表示：被查看的文件路径，相对、绝对、特殊路径符都可以使用

#### more命令----查看文件内容
more命令同样可以查看文件内容
- 与cat的不同点
  - ```cat``` 是直接将内容全部显示出来
  - ```more``` 支持翻页，如果文件内容过多，可以一页页的展示
- 语法
```
more Linux路径
```
同样没有选项，只有必填参数，参数表示：被查看的文件路径，相对、绝对、特殊路径符都可以使用

#### cp命令----复制文件文件夹
cp命令可以用于复制文件\文件夹，cp命令来自英文单词：copy
##### 语法
```
cp [-r] 参数1 参数2
```
- -r选项，可选，用于复制文件夹使用，表示递归
- 参数1，Linux路径，表示被复制的文件或文件夹
- 参数2，Linux路径，表示要复制去的地方

#### mv命令----移动文件或文件夹
mv命令可以用于移动文件\文件夹，mv命令来自英文单词：move
##### 语法
```
mv 参数1 参数2
```
- 参数1，Linux路径，表示被移动的文件或文件夹
- 参数2，Linux路径，表示要移动去的地方，如果目标不存在，则进行改名，确保目标存在

#### rm命令----删除文件、文件夹
rm命令可用于删除文件、文件夹，rm命令来自英文单词：remove
##### 语法
```
rm [-r -f] 参数1 参数2 ... 参数n
```
- 同cp命令一样，-r选项用于删除文件夹
- -f表示force，强制删除（不会弹出提示确认信息）
- 普通用户删除内容不会弹出提示，只有root管理员用户删除内容会有提示
- 一般普通用户用不到-f选项
- 参数1、参数2、......、参数N 表示要删除的文件或文件夹路径，按照空格隔开
##### 模糊匹配
rm命令支持通配符 *，用来做模糊匹配
符号* 表示通配符，即匹配任意内容（包含空）
- ```test*``` 表示匹配任何以test开头的内容
- ```*test``` 表示匹配任何以test结尾的内容
- ```*test*``` 表示匹配任何包含test的内容

**特别注意：**
- **rm是一个危险的命令，特别是在处于root（超级管理员）用户的时候，要谨慎使用**
- **如下命令，千万千万不要在root管理员用户下执行：**
```
rm -rf /
rm -rf /*
```
**效果等同于在Windows上执行C盘格式化**


### 查找命令
#### which命令
Linux命令的本体其实就是一个个的二进制可执行程序
和Windows系统中的.exe文件，是一个意思
可以通过which命令，查看所使用的一系列命令的程序文件存放在哪里
##### 语法
```
which 要查找的命令
```

#### find命令----按文件名查找文件
在图形化中，我们可以方便的通过系统提供的搜索功能，搜索指定的文件
同样，在Linux系统中，我们可以通过find命令去搜索指定的文件
##### 语法
```
find 起始路径 -name "被查找的文件名"
```
##### 模糊查询
被查找文件名，支持使用通配符 * 来做模糊查询。
符号* 表示通配符，即匹配任意内容（包含空）：
- ```test*``` 表示匹配任何以test开头的内容
- ```*test``` 表示匹配任何以test结尾的内容
- ```*test*``` 表示匹配任何包含test的内容

#### find命令----按文件大小查找文件
##### 语法
```
find 起始路径 -size +|- n[k M G]
```
- +、- 表示大于和小于
- n 表示大小数字
- k M G 表示大小单位，k(小写字母)表示kb，M表示MB，G表示GB


### grep命令
可以通过grep命令，从文件中通过关键字过滤文件行
#### 语法
```
grep [-n] 关键字 文件路径
```
- 选项 -n，可选，表示在结果中显示匹配的行的行号。
- 参数，关键字，必填，表示过滤的关键字，带有空格或其它特殊符号，建议使用" "将关键字包围起来
- 参数，文件路径，必填，表示要过滤内容的文件路径，可作为内容输入端口

### wc命令----数量统计
可以通过wc命令统计文件的行数、单词数量等
#### 语法
```
wc [-c -m -l -w] 文件路径
```
- 选项 -c，统计bytes数量
- 选项 -m，统计字符数量
- 选项 -l，统计行数
- 选项 -w，统计单词数量
- 参数，文件路径，被统计的文件，可作为内容输入端口

### 管道符
#### 管道符的含义
将管道符左边命令的结果，作为右边命令的输入
#### 管道符的应用
管道符的应用非常多
过滤ls的结果
```
ls | grep Desktop
```
过滤结果，只找路径带有关键字的结果
```
find / -name “test” | grep “/usr/lib64”
```
嵌套使用
```
cat itheima.txt | grep itcast | grep itheima
```


### echo命令
可以使用echo命令在命令行内输出指定内容
#### 语法
```
echo 输出的内容
```
- 无需选项，只有一个参数，表示要输出的内容，复杂内容可以用" "包围

#### 反引号`
- echo pwd
本意是想，输出当前的工作路径，但是pwd被作为普通字符输出了
- ```echo `pwd` ```
可以通过将命令用反引号（通常也称之为飘号）`将其包围
被`包围的内容，会被作为命令执行，而非普通字符

### 重定向符
#### >
将左侧命令的结果，覆盖写入到符号右侧指定的文件中
#### >>
将左侧命令的结果，追加写入到符号右侧指定的文件中

例如
```
echo “Hello itheima” > itheima.txt
```
覆盖新内容
```
echo “Hello itcast” >> itheima.txt
```
再次执行，使用>>追加新内容


### head命令
使用head命令，可以查看文件头部内容，跟踪文件的最新更改，语法如下：
#### 语法
```
head [-num] Linux路径
```
- 参数，Linux路径，表示被跟踪的文件路径
- 选项，-f，表示持续跟踪
- 选项, -num，表示，查看头部多少行，不填默认10行

### tail命令
使用tail命令，可以查看文件尾部内容，跟踪文件的最新更改，语法如下：
#### 语法
```
tail [-f -num] Linux路径
```
- 参数，Linux路径，表示被跟踪的文件路径
- 选项，-f，表示持续跟踪，很有用，在实际使用时可以用来实时跟踪日志
- 选项, -num，表示，查看尾部多少行，不填默认10行

### 查看命令帮助和手册
#### help
如果想要对命令的其它选项进行查阅，可以通过如下方式：
##### 语法
```
command --help
```
任何命令都支持：--help 选项， 可以通过这个选项，查看命令的帮助
如：ls --help， 会列出ls命令的帮助文档

帮助文档会简单的对命令的使用方式进行说明

#### man
如果想要查看命令的详细手册，可以通过man（manual， 手册）命令查看
比如：
```man ls``` 就是查看ls命令的详细手册
```man cd``` 就是查看cd命令的详细手册

## vi/vim编辑器
### 介绍
- vi\vim是visual interface的简称, 是Linux中最经典的文本编辑器
- 同图形化界面中的 文本编辑器一样，vi是命令行下对文本文件进行编辑的绝佳选择
- vim 是 vi 的加强版本，兼容 vi 的所有指令，不仅能编辑文本，而且还具有 shell 程序编辑的功能，可以不同颜色的字体来辨别语法的正确性，极大方便了程序的设计和编辑性

### vi\vim编辑器的三种工作模式
#### 命令模式（Command mode）
- 命令模式下，所敲的按键编辑器都理解为命令，以命令驱动执行不同的功能
- 此模型下，不能自由进行文本编辑
#### 输入模式（Insert mode）
- 也就是所谓的编辑模式、插入模式
- 此模式下，可以对文件内容进行自由编辑
#### 底线命令模式（Last line mode）
- 以：开始，通常用于文件的保存、退出

### 命令模式
#### 如果需要通过vi/vim编辑器编辑文件，通过如下命令：
- vi 文件路径
- vim 文件路径
vim兼容全部的vi功能，后续全部使用vim命令

如果文件路径表示的文件不存在，那么此命令会用于编辑新文件

如果文件路径表示的文件存在，那么此命令用于编辑已有文件

#### 命令模式快捷键
- i
在当前光标位置进入输入模式
- a
在当前光标位置之后进入输入模式
- I
在当前行的开头，进入输入模式
- A
在当前行的结尾，进入输入模式
- o
在当前光标下一行进入输入模式
- O
在当前光标上一行进入输入模式
- esc
任何情况下输入esc都能回到命令模式

### 输入模式
进入编辑模式后，任何快捷键都没有作用，只能正常输入文本
### 底线命令模式
在命令模式内，输入: 即可进入底线命令模式，支持如下命令：
- :wq
保存并退出
- :q
仅退出
- :q!
强制退出
- :w
仅保存
- :set nu
显示行号
- :set paste
设置粘贴模式


# Linux用户和权限
## root用户
### root用户（超级管理员）
#### 概念
- 无论是Windows、MacOS、Linux均采用多用户的管理模式进行权限管理
- 在Linux系统中，拥有最大权限的账户名为：root（超级管理员）
- root用户拥有最大的系统操作权限，而普通用户在许多地方的权限是受限的
#### 普通用户权限
- 普通用户的权限，一般在其HOME目录内是不受限的
- 一旦出了HOME目录，大多数地方，普通用户仅有只读和执行权限，无修改权限

### su命令
#### 概念
su命令就是用于账户切换的系统命令，其来源英文单词：Switch User
#### 语法
```
su [-] [用户名]
```
- ```-``` 符号是可选的，表示是否在切换用户后加载环境变量，建议带上
- 参数：用户名，表示要切换的用户，用户名也可以省略，省略表示切换到root
- 切换用户后，可以通过exit命令退回上一个用户，也可以使用快捷键：ctrl + d
- 使用普通用户，切换到其它用户需要输入密码，如切换到root用户
- 使用root用户切换到其它用户，无需密码，可以直接切换

### sudo命令
#### 概念
- 在我们得知root密码的时候，可以通过su命令切换到root得到最大权限
- 但是不建议长期使用root用户，避免带来系统损坏
- 我们可以使用sudo命令，为普通的命令授权，临时以root身份执行
#### 语法
sudo 其他命令
- 在其它命令之前，带上sudo，即可为这一条命令临时赋予root授权
- 但是并不是所有的用户，都有权利使用sudo，我们需要为普通用户配置sudo认证
#### 为普通用户配置sudo认证
- 切换到root用户，执行visudo命令，会自动通过vi编辑器打开：/etc/sudoers
- 在文件的最后添加：
```
普通用户名 ALL=(ALL)   NOPASSWD: ALL
```
其中最后的NOPASSWD:ALL 表示使用sudo命令，无需输入密码
- 最后通过 wq 保存
- 切换回普通用户
- 执行的命令，均以root运行

## 用户、用户组
### 概念
#### Linux系统中可以
- 配置多个用户
- 配置多个用户组
- 用户可以加入多个用户组中

#### Linux中关于权限的管控级别有2个级别，分别是：
- 针对用户的权限控制
- 针对用户组的权限控制
比如，针对某文件，可以控制用户的权限，也可以控制用户组的权限

### 用户组管理
#### 创建用户组
##### 语法
```
groupadd 用户组名
```
#### 删除用户组
##### 语法
```
groupdel 用户组名
```
**注意：以上命令需要root权限，非root用户可以用sudo执行**

### 用户管理
#### 创建用户
##### 语法
```
useradd [-g -d] 用户名
```
- 选项：-g指定用户的组，不指定-g，会创建同名组并自动加入，指定-g需要组已经存在，如已存在同名组，必须使用-g
- 选项：-d指定用户HOME路径，不指定，HOME目录默认在：/home/用户名
#### 删除用户
##### 语法
```
userdel [-r] 用户名
```
- 选项：-r，删除用户的HOME目录，不使用-r，删除用户时，HOME目录保留
#### 查看用户所属组
##### 语法
```
id [用户名]
```
- 参数：用户名，被查看的用户，如果不提供则查看自身
#### 修改用户所属组
##### 语法
```
usermod -aG 用户组 用户名
```
将指定用户加入指定用户组

### getent
#### 查看用户
##### 作用
使用getent命令，可以查看当前系统中有哪些用户
##### 语法
```
getent passwd
```
##### 回显
共有7份信息，分别是：
```
用户名:密码(x):用户ID:组ID:描述信息(无用):HOME目录:执行终端(默认bash)
```
#### 查看用户组
##### 作用
使用getent命令，同样可以查看当前系统中有哪些用户组
##### 语法
```
getent group
```
##### 回显
包含3份信息，
```
组名称:组认证(显示为x):组ID
```

## 权限控制
### 查看权限控制
#### 认知权限信息
通过 ```ls -l``` 可以以列表形式查看内容，并显示权限细节
- 第1列表示文件、文件夹的权限控制信息
- 第3列表示文件、文件夹所属用户
- 第4列表示文件、文件夹所属用户组

#### 第1列----权限细节
权限细节总共分为10个槽位
##### 槽位1
-或d或l
- -表示文件
- d表示文件夹（directory）
- l表示软链接（link），相当于windows的快捷方式

##### 槽位2/3/4
表示所属用户权限
- 槽位2的值是r或-
r表示读取权限（read），-表示没有读取权限
- 槽位3的值是w或-
w表示写入权限（write），-表示没有读取权限
- 槽位4的值是x或-
x表示执行权限（execute），-表示没有读取权限

##### 槽位5/6/7
表示所属用户组权限
- 槽位5的值是r或-
r表示读取权限（read），-表示没有读取权限
- 槽位6的值是w或-
w表示写入权限（write），-表示没有读取权限
- 槽位7的值是x或-
x表示执行权限（execute），-表示没有读取权限

##### 槽位8/9/10
表示其他用户权限
- 槽位8的值是r或-
r表示读取权限（read），-表示没有读取权限
- 槽位9的值是w或-
w表示写入权限（write），-表示没有读取权限
- 槽位10的值是x或-
x表示执行权限（execute），-表示没有读取权限

#### rwx
针对文件、文件夹的不同，rwx的含义有细微差别
- r
  - 针对文件可以查看文件内容
  - 针对文件夹，可以查看文件夹内容，如ls命令
- w
  - 针对文件表示可以修改此文件
  - 针对文件夹，可以在文件夹内：创建、删除、改名等操作
- x
  - 针对文件表示可以将文件作为程序执行
  - 针对文件夹，表示可以更改工作目录到此文件夹，即cd进入


### 修改权限控制
#### chmod命令
##### 作用
可以使用chmod命令，修改文件、文件夹的权限信息。
注意，只有文件、文件夹的所属用户或root用户可以修改
##### 语法
```
chmod [-R] 权限 文件或文件夹
```
- 选项：-R，对文件夹内的全部内容应用同样的操作
##### 示例
```
chmod u=rwx,g=rx,o=x hello.txt
```
将文件权限修改为：rwxr-x--x
其中：u表示user所属用户权限，g表示group组权限，o表示other其它用户权限


```
chmod -R u=rwx,g=rx,o=x test
```
将文件夹test以及文件夹内全部内容权限设置为：rwxr-x--x
除此之外，还有快捷写法：```chmod 751 hello.txt```
将hello.txt的权限修改为751

#### 权限的数字序号
权限可以用3位数字来代表，第一位数字表示用户权限，第二位表示用户组权限，第三位表示其它用户权限。
数字的细节如下：r记为4，w记为2，x记为1，可以有：
| 数值 | 权限描述   | 符号表示 |
|------|----------|---------|
| 0    | 无任何权限 | ---     |
| 1    | 仅有执行权限 | --x     |
| 2    | 仅有写权限 | -w-     |
| 3    | 有写和执行权限 | -wx     |
| 4    | 仅有读权限 | r--     |
| 5    | 有读和执行权限 | r-x     |
| 6    | 有读和写权限 | rw-     |
| 7    | 拥有全部权限 | rwx     |

所以751表示： rwx(7) r-x(5) --x(1)


#### chown命令
##### 作用
使用chown命令，可以修改文件、文件夹的所属用户和用户组
普通用户无法修改所属为其它用户或组，所以此命令只适用于root用户执行
##### 语法
```
chown [-R] [用户] [:] [用户组] 文件或文件夹
```
- 选项，-R，同chmod，对文件夹内全部内容应用相同规则
- 选项，用户，修改所属用户
- 选项，用户组，修改所属用户组
- :用于分隔用户和用户组
##### 示例
```
chown root hello.txt
```
将hello.txt所属用户修改为root
```
chown :root hello.txt
```
将hello.txt所属用户组修改为root
```
chown root:itheima hello.txt
```
将hello.txt所属用户修改为root，用户组修改为itheima
```
chown -R root test
```
将文件夹test的所属用户修改为root并对文件夹内全部内容应用同样规则


# Linux实用操作
## 各类快捷键
#### ctrl + c 强制停止
- Linux某些程序的运行，如果想要强制停止它，可以使用快捷键ctrl + c
- 命令输入错误，也可以通过快捷键ctrl + c，退出当前输入，重新输入
#### ctrl + d 退出或登出
- 可以通过快捷键：ctrl + d，退出账户的登录
- 或者退出某些特定程序的专属页面
- 不能用于退出vi/vim
#### 历史命令搜索
- 可以通过history命令，查看历史输入过的命令
- 可以通过：!命令前缀，自动执行上一次匹配前缀的命令
- 可以通过快捷键：ctrl + r，输入内容去匹配历史命令
- 如果搜索到的内容是需要的，那么：
  - 回车键可以直接执行
  - 键盘左右键，可以得到此命令（不执行）
#### 光标移动快捷键
- ctrl + a，跳到命令开头
- ctrl + e，跳到命令结尾
- ctrl + 键盘左键，向左跳一个单词
- ctrl + 键盘右键，向右跳一个单词
#### 清屏
- 通过快捷键ctrl + l，可以清空终端内容
- 或通过命令clear得到同样效果

## 软件安装
### Linux系统的应用商店
#### 操作系统安装软件有许多种方式，一般分为：
- 下载安装包自行安装
  - 如win系统使用exe文件、msi文件等
  - 如mac系统使用dmg文件、pkg文件等
- 系统的应用商店内安装
  - 如win系统有Microsoft Store商店
  - 如mac系统有AppStore商店

### centOS系统----yum命令
yum：RPM包软件管理器，用于自动化安装配置Linux软件，并可以自动解决依赖问题
#### 语法
```
yum [-y] [install | remove | search] 软件名称
```
- 选项：-y，自动确认，无需手动确认安装或卸载过程
- install：安装
- remove：卸载
- search：搜索
#### 注意事项
- yum命令需要root权限，可以su切换到root，或使用sudo提权
- yum命令需要联网

### Ubuntu系统----apt命令
Ubuntu使用apt管理器，格式为.deb格式的文件包
#### 语法
```
apt [-y] [install | remove | search] 软件名称
```
- 选项：-y，自动确认，无需手动确认安装或卸载过程
- install：安装
- remove：卸载
- search：搜索
#### 注意事项
用法和yum一致，同样需要root权限
```
apt install wget
```
安装wget
```
apt remove wget
```
移除wget
```
apt search wget
```
搜索wget


## systemctl
### systemctl命令
#### Linux服务
Linux系统很多软件（内置或第三方）均支持使用systemctl命令控制：启动、停止、开机自启能够被systemctl管理的软件，一般也称之为：服务
#### 语法
```
systemctl start | stop | status | enable | disable 服务名
```
- start----启动
- stop-----关闭
- status---查看状态
- enable---开启开机自启
- disable--关闭开机自启
#### 系统内置的服务比较多，比如：
- NetworkManager，主网络服务
- network，副网络服务
- firewalld，防火墙服务
- sshd，ssh服务（FinalShell远程登录Linux使用的就是这个服务）
#### 可以使用systemctl控制这些服务的启动、关闭、自启动
#### 除了内置的服务以外，部分第三方软件安装后也可以以systemctl进行控制
```
apt install -y ntp
```
安装ntp软件
可以通过ntpd服务名，配合systemctl进行控制
```
apt install -y httpd
```
安装apache服务器软件
可以通过httpd服务名，配合systemctl进行控制

**部分软件安装后没有自动集成到systemctl中，我们可以手动添加**

## 软连接
### 概念
#### 在系统中创建软链接，可以将文件、文件夹链接到其它位置
#### 软链接类似Windows系统中的 快捷方式
### ln命令创建软连接
#### 语法
```
ln -s 参数1 参数2
```
- -s选项，创建软连接
- 参数1：被链接的文件或文件夹
- 参数2：要链接去的目的地
#### 实例
```
ln -s /etc/yum.conf ~/yum.conf
```
```
ln -s /etc/yum ~/yum
```

## 日期、时区
### date命令
#### 作用
通过date命令可以在命令行中查看系统的时间
#### 语法
```
date [-d] [+格式化字符串]
```
- -d 按照给定的字符串显示日期，一般用于日期计算
- 要使用格式化字符串，+号不能省略
- 格式化字符串：通过特定的字符串标记，来控制显示的日期格式

| 格式 | 描述 |
|------|------|
| `%Y` | 年 |
| `%y` | 年份后两位数字 (00..99) |
| `%m` | 月份 (01..12) |
| `%d` | 日 (01..31) |
| `%H` | 小时 (00..23) |
| `%M` | 分钟 (00..59) |
| `%S` | 秒 (00..60) |
| `%s` | 自 1970-01-01 00:00:00 UTC 到现在的秒数 |

#### 使用方法
使用date命令本体，无选项，直接查看时间

可以通过格式化字符串自定义显示格式
- 按照YYYY-mm-dd的格式显示日期
```
date +%Y-%m-%d
```
- 按照YYYY-mm-dd HH:MM:SS的格式显示日期
```
date "+%Y-%m-%d %H:%M:%S"
```
由于中间带有空格，所以使用双引号包围格式化字符串，作为整体

### date命令进行日期加减
#### 语法
-d选项，可以按照给定的字符串显示日期，一般用于日期计算
#### 其中支持的时间标记为
- year年
- month月
- day天
- hour小时
- minute分钟
- second秒
#### -d选项可以和格式化字符串配合一起使用

### 修改Linux时区
#### 系统默认时区是格林尼治时间，非中国的东八区
#### 使用root权限，执行如下命令，可以修改时区为东八区时区
```
rm -f /etc/localtime
sudo ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
```
将系统自带的localtime文件删除，并将/usr/share/zoneinfo/Asia/Shanghai文件链接为localtime文件即可

### ntp程序
可以通过ntp程序自动校准系统时间
#### 安装ntp
```
yum -y install ntp
```
#### 启动并设置开机自启
```
systemctl start ntpd
systemctl enable ntpd
```
当ntpd启动后会定期的帮助我们联网校准系统的时间

#### 也可以手动校准（需root权限）
```
ntpdate -u ntp.aliyun.com
```
通过阿里云提供的服务网址配合ntpdate（安装ntp后会附带这个命令）命令自动校准

## IP地址、主机名
### IP地址
#### 概念
每一台联网的电脑都会有一个地址，用于和其它计算机进行通讯

IP地址主要有2个版本，V4版本和V6版本

IPv4版本的地址格式是：a.b.c.d，其中abcd表示0-255的数字，如192.168.88.101就是一个标准的IP地址

可以通过命令：ifconfig，查看本机的ip地址，如无法使用ifconfig命令，可以安装
```
apt install net-tools
```

#### 特殊IP地址
- 127.0.0.1
这个IP地址用于指代本机
- 0.0.0.0
特殊IP地址
  - 可以用于指代本机
  - 可以在端口绑定中用来确定绑定关系（后续讲解）
  - 在一些IP地址限制中，表示所有IP的意思，如放行规则设置为0.0.0.0，表示允许任意IP访问

#### 主机名
每一台电脑除了对外联络地址（IP地址）以外，也可以有一个名字，称之为主机名
无论是Windows或Linux系统，都可以给系统设置主机名

可以使用命令
```
hostname
```
查看主机名

可以使用命令
```
hostnamectl set-hostname 主机名
```
修改主机名（需root）

#### 域名解析
通过字符化的地址去访问服务器
##### 域名解析步骤
- 先查看本机的记录（私人地址本）
  - Windows看：C:\Windows\System32\drivers\etc\hosts
  - Linux看：/etc/hosts
- 再联网去DNS服务器（如114.114.114.114，8.8.8.8等）询问


## 网络传输
### 下载和网络请求
#### ping命令
可以通过ping命令，检查指定的网络服务器是否是可联通状态
##### 语法
```
ping [-c num] ip或主机名
```
- 选项：-c，检查的次数，不使用-c选项，将无限次数持续检查
- 参数：ip或主机名，被检查的服务器的ip地址或主机名地址

#### wget命令
wget是非交互式的文件下载器，可以在命令行内下载网络文件
##### 语法
```
wget [-b] url
```
- 选项：-b，可选，后台下载，会将日志写入到当前工作目录的wget-log文件
- 参数：url，下载链接

通过tail命令可以监控后台下载进度：```tail -f wget-log```

#### curl命令
curl可以发送http网络请求，可用于：下载文件、获取信息等
##### 语法
```
curl [-0] url
```
- 选项：-O，用于下载文件，当url是下载链接时，可以使用此选项保存文件
- 参数：url，要发起请求的网络地址
##### 示例
向cip.cc发起网络请求：```curl cip.cc```


### 端口
#### 端口定义
端口，是设备与外界通讯交流的出入口。端口可以分为：物理端口和虚拟端口两类
- 物理端口
又可称之为接口，是可见的端口，如USB接口，RJ45网口，HDMI端口等
- 虚拟端口
是指计算机内部的端口，是不可见的，是用来操作系统和外部进行交互使用的
#### 端口（虚拟）
- 计算机程序之间的通讯，通过IP只能锁定计算机，但是无法锁定具体的程序
- 通过端口可以锁定计算机上具体的程序，确保程序之间进行沟通
- IP地址相当于小区地址，在小区内可以有许多住户（程序），而门牌号（端口）就是各个住户（程序）的联系地址
#### 端口分类
Linux系统是一个超大号小区，可以支持65535个端口，这6万多个端口分为3类进行使用：
- 公认端口
1-1023，通常用于一些系统内置或知名程序的预留使用，如SSH服务的22端口，HTTPS服务的443端口
非特殊需要，不要占用这个范围的端口
- 注册端口
1024-49151，通常可以随意使用，用于松散的绑定一些程序\服务
- 动态端口
49152-65535，通常不会固定绑定程序，而是当程序对外进行网络链接时，用于临时使用
#### 查看端口占用----nmap命令
可以通过Linux命令去查看端口的占用情况
##### 使用nmap命令
安装nmap：
```
yum -y install nmap
```
##### 语法
```
nmap 被查看的IP地址
```

```nmap 127.0.0.1``` 即可查看本机本机（127.0.0.1）端口占用情况
#### 端口的占用情况----netstat命令
可以通过netstat命令，查看指定端口的占用情况
##### 安装netstat
```
yum -y install net-tools
```
##### 语法
```
netstat -anp | grep 端口号
```
如果没有返回结果，即端口未被占用


## 进程管理
### 进程
- 程序运行在操作系统中，是被操作系统所管理的
- 为管理运行的程序，每一个程序在运行的时候，便被操作系统注册为系统中的一个：进程
- 并会为每一个进程都分配一个独有的：进程ID（进程号）

### 查看进程
可以通过ps命令查看Linux系统中的进程信息
#### 语法
```
ps [-e -f]
```
- 选项：-e，显示出全部的进程
- 选项：-f，以完全格式化的形式展示信息（展示全部信息）
- 一般来说，固定用法就是： ps -ef 列出全部进程的全部信息
#### 进程信息
从左到右分别是：
| 标识符  | 描述 |
|--------|------|
| `UID`   | 进程所属的用户ID |
| `PID`   | 进程的进程号ID |
| `PPID`  | 进程的父ID（启动此进程的其它进程） |
| `C`     | 此进程的CPU占用率（百分比） |
| `STIME` | 进程的启动时间 |
| `TTY`   | 启动此进程的终端序号，如显示 `?`，表示非终端启动 |
| `TIME`  | 进程占用CPU的时间 |
| `CMD`   | 进程对应的名称或启动路径或启动命令 |


### 查看指定进程
查找进程列出的信息太多，无法准确的找到想要查看的进程

可以使用管道符配合grep来进行过滤，如：
```
ps -ef | grep tail
```
即可准确的找到tail命令的信息

过滤不仅仅过滤名称，进程号，用户ID等等，都可以被grep过滤
如：```ps -ef | grep 30001``` 过滤带有30001关键字的进程信息（一般指代过滤30001进程号）

### 关闭进程
在Windows系统中，可以通过任务管理器选择进程后，点击结束进程从而关闭它
同样，在Linux中，可以通过kill命令关闭进程
#### 语法
```
kill [-9] 进程ID
```
- 选项：-9，表示强制关闭进程。不使用此选项会向进程发送信号要求其关闭，但是否关闭看进程自身的处理机制

## 主机状态
### 查看系统资源占用
可以通过top命令查看CPU、内存使用情况，类似Windows的任务管理器

默认每5秒刷新一次，语法：直接输入top即可，按q或ctrl + c退出

### top命令显示内容
#### 第一行
```
top - 23:24:52 up  4:51,  2 users,  load average: 0.00, 0.00, 0.00
```
| 项目            | 描述                     |
|----------------|------------------------|
| `top`         | 命令名称                 |
| `23:24:52`    | 当前系统时间             |
| `up 4:51`     | 系统已运行时间（4小时51分钟） |
| `2 users`     | 当前登录的用户数（2个）   |
| `load`        | 1、5、15 分钟的系统负载   |

#### 第二行
```
Tasks: 280 total,   1 running, 279 sleeping,   0 stopped,   0 zombie
```
| 项目            | 描述                 |
|----------------|--------------------|
| `Tasks`       | 总进程数（280个）   |
| `1 running`   | 运行中的进程数（1个） |
| `279 sleeping` | 睡眠中的进程数（279个） |
| `0 stopped`   | 停止的进程数（0个）  |
| `0 zombie`    | 僵尸进程数（0个）    |

#### 第三行
```
%Cpu(s):  0.0 us,  0.0 sy,  0.0 ni,100.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
```
| 项目       | 描述                         |
|-----------|----------------------------|
| `%Cpu(s)` | CPU 使用率                   |
| `us`      | 用户 CPU 使用率               |
| `sy`      | 系统 CPU 使用率               |
| `ni`      | 高优先级进程占用 CPU 时间百分比 |
| `id`      | 空闲 CPU 率                   |
| `wa`      | I/O 等待 CPU 占用率           |
| `hi`      | CPU 硬件中断率                |
| `si`      | CPU 软件中断率                |
| `st`      | 强制等待占用 CPU 率           |

#### 第四、五行
```
MiB Mem :   3871.5 total,    909.8 free,   1265.9 used,   1695.8 buff/cache
MiB Swap:   2140.0 total,   2135.5 free,      4.5 used.   2327.6 avail Mem
```
- Kib Mem：物理内存
  - total：总量
  - free：空闲
  - used：使用
  - buff/cache：buff和cache占用
- KibSwap：虚拟内存（交换空间）
  - total：总量
  - free：空闲
  - used：使用
  - buff/cache：buff和cache占用
#### 进程列表
| 项目       | 描述 |
|-----------|--------------------------------------------------|
| `PID`     | 进程 ID |
| `USER`    | 进程所属用户 |
| `PR`      | 进程优先级，数值越小优先级越高 |
| `NI`      | 负值表示高优先级，正值表示低优先级 |
| `VIRT`    | 进程使用的虚拟内存（KB） |
| `RES`     | 进程使用的物理内存（KB） |
| `SHR`     | 进程使用的共享内存（KB） |
| `S`       | 进程状态（`S`：休眠，`R`：运行，`Z`：僵死，`N`：负优先级，`I`：空闲） |
| `%CPU`    | 进程占用的 CPU 率 |
| `%MEM`    | 进程占用的内存率 |
| `TIME+`   | 进程使用的 CPU 总时间（单位：10 毫秒） |
| `COMMAND` | 进程的命令、名称或程序文件路径 |


### top命令选项
#### -p
只显示某个进程的信息
#### -d
设置刷新时间，默认是5s
#### -c
显示产生进程的完整命令，默认是进程名
#### -n
指定刷新次数，比如 top -n 3，刷新输出3次后退出
#### -b
以非交互非全屏模式运行，以批次的方式执行top，一般配合-n指定输出几次统计信息，将输出重定向到指定文件，比如 top -b -n 3 > /tmp/top .tmp
#### -i
不显示任何闲置(idle)或无用(zombie)的进程
#### -u
查找特定用户启动的进程

### top交互式选项
当top以交互式运行（非-b选项启动），可以用以下交互式命令进行控制
#### h键
按下h键，会显示帮助画面
#### c键
按下c键，会显示产生进程的完整命令，等同于-c参数，再次按下c键，变为默认显示
#### f键
按下f键，可以选择需要展示的项目
#### M键
按下M键，根据驻留内存大小（RES）排序
#### P键
按下P键，根据CPU使用百分比大小进行排序
#### T键
按下T键，根据时间/累计时间进行排序
#### E键
按下E键，切换顶部内存显示单位
#### e键
按下e键，切换进程内存显示单位
#### l键
按下l键，切换显示平均负载和启动时间信息。
#### i键
按下i键，不显示闲置或无用的进程，等同于-i参数，再次按下，变为默认显示
#### t键
按下t键，切换显示CPU状态信息
#### m键
按下m键，切换显示内存信息

### 磁盘信息监控
#### df命令
使用df命令，可以查看硬盘的使用情况
##### 语法
```
df [-h]
```
- 选项：-h，以更加人性化的单位显示

#### iostat命令
使用iostat，可以查看CPU、磁盘的相关信息
##### 语法
```
iostat [-x] [num1] [num2]
```
- 选项：-x，显示更多信息
- num1：数字，刷新间隔
- num2：数字，刷新几次
##### tps
该设备每秒的传输次数（Indicate the number of transfers per second that were issued to the device.）。"一次传输"意思是"一次I/O请求"。多个逻辑请求可能会被合并为"一次I/O请求"。"一次传输"请求的大小是未知的

##### 使用iostat的-x选项，可以显示更多信息
- rrqm/s
每秒这个设备相关的读取请求有多少被Merge了（当系统调用需要读取数据的时候，VFS将请求发到各个FS，如果FS发现不同的读取请求读取的是相同Block的数据，FS会将这个请求合并Merge, 提高IO利用率, 避免重复调用）
- wrqm/s
每秒这个设备相关的写入请求有多少被Merge了
- rsec/s
每秒读取的扇区数；sectors
- wsec/
每秒写入的扇区数。
- rKB/s
每秒发送到设备的读取请求数
- wKB/s
每秒发送到设备的写入请求数
- avgrq-sz
平均请求扇区的大小
- avgqu-sz
平均请求队列的长度。毫无疑问，队列长度越短越好  
- await
每一个IO请求的处理的平均时间（单位是微秒毫秒）
- svctm
表示平均每次设备I/O操作的服务时间（以毫秒为单位）
- %util
磁盘利用率

### 网络状态监控
可以使用sar命令查看网络的相关统计（sar命令非常复杂，这里仅简单用于统计网络）
#### 语法
```
sar -n DEV num1 num2
```
- 选项
  - -n，查看网络，DEV表示查看网络接口
  - num1：刷新间隔（不填就查看一次结束）
  - num2：查看次数（不填无限次数）

#### 信息解读
| 项目       | 描述 |
|-----------|----------------------------------|
| `IFACE`   | 本地网卡接口的名称 |
| `rxpck/s` | 每秒钟接收的数据包数 |
| `txpck/s` | 每秒钟发送的数据包数 |
| `rxKB/s`  | 每秒钟接收的数据量（单位：KB） |
| `txKB/s`  | 每秒钟发送的数据量（单位：KB） |
| `rxcmp/s` | 每秒钟接收的压缩数据包数 |
| `txcmp/s` | 每秒钟发送的压缩数据包数 |
| `rxmcst/s`| 每秒钟接收的多播数据包数 |


## 环境变量
### 概念
- 环境变量是操作系统（Windows、Linux、Mac）在运行的时候，记录的一些关键性信息，用以辅助系统运行
- 在Linux系统中执行：env命令即可查看当前系统中记录的环境变量
- 环境变量是一种KeyValue型结构，即名称和值

### 环境变量：PATH
- 无论当前工作目录是什么，都能执行/usr/bin/cd这个程序，这个就是借助环境变量中：PATH这个项目的值来做到的
- PATH记录了系统执行任何命令的搜索路径
- 当执行任何命令，都会按照顺序，从搜索路径中搜索要执行的程序的本体

### $符号
- 在Linux系统中，$符号被用于取”变量”的值
- 环境变量记录的信息，除了给操作系统自己使用外，如果我们想要取用，也可以使用
- 取得环境变量的值就可以通过语法：$环境变量名  来取得
  - 比如： ```echo $PATH```
就可以取得PATH这个环境变量的值，并通过echo语句输出出来
  - 又或者：```echo ${PATH}ABC```
当和其它内容混合在一起的时候，可以通过{}来标注取的变量是谁

### 自行设置环境变量
Linux环境变量可以用户自行设置，其中分为：
#### 临时设置
##### 语法
```
export 变量名=变量值
```
#### 永久生效
- 针对当前用户生效，配置在当前用户的 ```~/.bashrc``` 文件中
- 针对所有用户生效，配置在系统的 ```/etc/profile``` 文件中
- 通过语法：source 配置文件，进行立刻生效，或重新登录FinalShell生效

### 自定义环境变量PATH
环境变量PATH这个项目里面记录了系统执行命令的搜索路径
这些搜索路径也可以自行添加到PATH中去
#### 测试
- 在当前HOME目录内创建文件夹，myenv，在文件夹内创建文件mkhaha
- 通过vim编辑器，在mkhaha文件内填入：echo 哈哈哈哈哈
完成上述操作后，随意切换工作目录，执行mkhaha命令尝试一下，会发现无法执行
- 修改PATH的值
临时修改PATH：```export PATH=$PATH:/home/itheima/myenv```，再次执行mkhaha，无论在哪里都能执行了或将```export PATH=$PATH:/home/itheima/myenv```，填入用户环境变量文件或系统环境变量文件中去

## 上传、下载
### 通过Shell工具
可以通过XShell、FinalShell等工具，方便的和虚拟机进行数据交换
在XShell软件的隧道窗格中，提供了Linux的文件系统视图，可以方便的：
- 浏览文件系统，找到合适的文件，右键点击下载，即可传输到本地电脑
- 浏览文件系统，找到合适的目录，将本地电脑的文件拓展进入，即可方便的上传数据到Linux中
### rz、sz命令
除了通过FinalShell的下方窗体进行文件的传输以外，也可以通过rz、sz命令进行文件传输
#### rz、sz命令需要安装
可以通过：```sudo apt install lrzsz``` 即可安装
#### rz命令
进行上传，语法：直接输入rz即可,会弹出文件选择框选择文件
#### sz命令
进行下载，语法：sz 要下载的文件，会弹出目录选择框选择下载到哪个目录


**注意，rz、sz命令需要终端软件支持才可正常运行**
- **FinalShell、SecureCRT、XShell等常用终端软件均支持此操作**


## 压缩、解压
### 压缩格式
市面上有非常多的压缩格式
| 格式   | 适用系统                  |
|--------|---------------------------|
| `zip`  | Linux、Windows、MacOS 常用格式   |
| `7zip` | Windows 常用      |
| `rar`  | Windows 常用      |
| `tar`  | Linux、MacOS 常用 |
| `gzip` | Linux、MacOS 常用 |

在Windows系统中常用的软件如：winrar、bandizip等软件，都支持各类常见的压缩格式在Linux系统中操作：tar、gzip、zip这三种压缩格式，完成文件的压缩、解压操作

### tar命令
#### Linux和Mac系统常用有2种压缩格式，后缀名分别是：
- ```.tar```
称之为tarball，归档文件，即简单的将文件组装到一个.tar的文件内，并没有太多文件体积的减少，仅仅是简单的封装
- ```.gz```
也常见为.tar.gz，gzip格式压缩文件，即使用gzip压缩算法将文件压缩到一个文件内，可以极大的减少压缩后的体积
针对这两种格式，使用tar命令均可以进行压缩和解压缩的操作
#### 语法
```
tar [-c -v -x -f -z -C] 参数1 参数2 ... 参数n
```
- ```-c```，创建压缩文件，用于压缩模式
- ```-v```，显示压缩、解压过程，用于查看进度
- ```-x```，解压模式
- ```-f```，要创建的文件，或要解压的文件，-f选项必须在所有选项中位置处于最后一个
- ```-z```，gzip模式，不使用-z就是普通的tarball格式
- ```-C```，选择解压的目的地，用于解压模式
#### tar 命令压缩
tar的常用组合为：
```
tar -cvf test.tar 1.txt 2.txt 3.txt
```
将1.txt 2.txt 3.txt 压缩到test.tar文件内
```
tar -zcvf test.tar.gz 1.txt 2.txt 3.txt
```
将1.txt 2.txt 3.txt 压缩到test.tar.gz文件内，使用gzip模式


*注意*
- *-z选项，如果使用的话，一般处于选项位第一个*
- *-f选项，必须在选项位最后一个*

#### tar 解压
常用的tar解压组合有：
```
tar -xvf test.tar
```
解压test.tar，将文件解压至当前目录
```
tar -xvf test.tar -C /home/itheima
```
解压test.tar，将文件解压至指定目录（/home/itheima）
```
tar -zxvf test.tar.gz -C /home/itheima
```
以Gzip模式解压test.tar.gz，将文件解压至指定目录（/home/itheima）


注意
- -f选项，必须在选项组合体的最后一位
- -z选项，建议在开头位置
- -C选项，单独使用，和解压所需的其它参数分开

### zip命令
#### zip命令压缩文件
可以使用zip命令，压缩文件为zip压缩包
##### 语法
```
zip [-r] 参数1 参数2 ... 参数n
```
- -r，被压缩的包含文件夹的时候，需要使用-r选项，和rm、cp等命令的-r效果一致
##### 示例
```
zip test.zip a.txt b.txt c.txt
```
将a.txt b.txt c.txt 压缩到test.zip文件内
```
zip -r test.zip test itheima a.txt
```
将test、itheima两个文件夹和a.txt文件，压缩到test.zip文件内

#### unzip 命令解压文件
使用unzip命令，可以方便的解压zip压缩包
##### 语法
```
unzip [-d] 参数
```
- -d，指定要解压去的位置，同tar的-C选项
- 参数，被解压的zip压缩包文件
##### 示例
```
unzip test.zip
```
将test.zip解压到当前目录
```
unzip test.zip -d /home/itheima
```    
将test.zip解压到指定文件夹内（/home/itheima）


# Shell
## Shell概述
### Shell
- Shell是一个命令行解释器，它接收应用程序/用户命令，然后调用操作系统内核
- Shell还是一个功能强大的编程语言，易编写、易调试、灵活性强，含有变量, 函数, 逻辑控制语句等等
- 通过编写Shell命令发送给linux内核去执行, 操作计算机硬件. 所以Shell命令是用户操作计算机硬件的桥梁
- Shell是命令, 类似于windows系统Dos命令


*linux系统是如何操作计算机硬件CPU,内存,磁盘,显示器等?*
- *使用linux的内核操作计算机的硬件*

### Shell脚本
#### 概念
通过Shell命令或程序编程语言编写的Shell文本文件,  这就是Shell脚本 , 也叫Shell程序
#### 作用
通过Shell命令与编程语言来提高linux系统的管理工作效率

### Shell的运行过程
当用户下达指令给该操作系统的时候，实际上是把指令告诉shell，经过shell解释，处理后让内核做出相应的动作。 系统的回应和输出的信息也由shell处理，然后显示在用户的屏幕上

### Shell解析器
使用 ```cat /etc/shells``` 可以查看Sheel解析器
#### 解析器类型
- ```/bin/sh```
Bourne Shell,是UNIX最初使用的shell                      |
- ```/bin/bash```
Bourne Again Shell，它是Bourne Shell的扩展，简称bash，是LinuxOS默认shell,有灵活和强大的编辑接口，同时又很友好的用户界面，交互性很强
- ```/sbin/nologin```
未登录解析器,shell设置为/sbin/nologin 是用于控制用户禁止登陆系统的, 有时候有些服务，比如邮件服务，大部分都是用来接收主机的邮件而已，并不需要登陆
- ```/bin/dash```
dash（Debian Almquist Shell），也是一种 Unix shell。它比 Bash 小，只需要较少的磁盘空间，但是它的对话性功能也较少，交互性较差
- ```/bin/csh```
C Shell是C语言风格Shell                                      |
- ```/bin/tcsh```
是C Shell的一个扩展版本 

#### 打印输出当前系统环境使用的Shell解析器类型
语法
```
echo $SHELL
```

## Shell脚本入门
### Shell脚本文件编写规范
#### 脚本文件后缀名规范
shell脚本文件就是一个文本文件,  后缀名建议使用 `.sh` 结尾
#### 首行格式规范
首行需要设置Shell解析器的类型
##### 语法
```
#!/bin/bash
```

含义:设置当前shell脚本文件采用bash解析器运行脚本代码
#### 注释格式

| 注释类型  | 语法示例                       | 描述       |
|-----------|--------------------------------|------------|
| 单行注释  | `# 注释内容`                   | 用 `#` 表示单行注释 |
| 多行注释  | `:<<! ... !`                   | 用 `:<<!` 和 `!` 包围多行注释 |



### 脚本文件的3种常用执行方式
#### sh解析器执行方式
##### 语法
```
sh 脚本文件
```
##### 介绍
就是利用sh命令执行脚本文件，本质就是使用Shell解析器运行脚本文件
#### bash解析器执行方式
##### 语法
```
bash 脚本文件
```
##### 介绍
就是利用bash命令执行脚本文件，本质就是使用Shell解析器运行脚本文件
#### 仅路径执行方式
##### 语法
```
./脚本文件
```
##### 介绍
执行当前目录下的脚本文件
##### 注意
此方法需要脚本文件自己执行需要具有可执行权限, 否则无法执行

*3种方式的区别*
- *sh或bash执行脚本文件方式是直接使用Shell解析器运行脚本文件, 不需要可执行权限*
- *仅路径方式是执行脚本文件自己, 需要可执行权限*


### 多命令处理
## 变量
### 概念
变量用于存储管理临时的数据，这些数据都是在运行内存中的
#### 变量类型
- 系统环境变量
- 自定义变量
- 特殊符号变量
### 环境变量
#### 概念
环境变量是系统提供的共享变量.是linux系统加载Shell的配置文件中定义的变量共享给所有的Shell程序使用
#### Shell的配置文件分类
- 全局配置文件
  - ```/etc/profile```
  - ```/etc/profile.d/*.sh```
  - ```/etc/bashrc```
- 个人配置文件
  - ```当前用户/.bash_profile```
  - ```当前用户/.bashrc```

一般情况下，都是直接针对全局配置进行操作
#### 环境变量分类
在Linux系统中，环境变量按照其作用范围不同大致可以分为系统级环境变量和用户级环境变量
- 系统级环境变量
Shell环境加载全局配置文件中的变量共享给所有用户所有Shell程序使用, 全局共享
- 用户级环境变量
Shell环境加载个人配置文件中的变量共享给当前用户的Shell程序使用, 登录用户使用

#### 查看系统环境变量
查看当前Shell系统环境变量
```
env
```
查看Shell变量(系统环境变量+自定义变量+函数)
```
set
```

#### 常用系统环境变量
| 环境变量   | 描述                                                      |
|------------|-----------------------------------------------------------|
| `PATH`     | 最常用的系统环境变量，设置命令的搜索路径，以冒号为分割     |
| `HOME`     | 当前用户主目录：`/root`                                    |
| `SHELL`    | 当前 shell 解析器类型：`/bin/bash`                         |
| `HISTFILE` | 最常用的系统环境变量，显示当前用户执行命令的历史列表文件：`/root/.bash_history` |
| `PWD`      | 显示当前所在路径：`/root`                                  |
| `OLDPWD`   | 显示之前的路径                                            |
| `HOSTNAME` | 显示当前主机名：`itheima`                                  |
| `HOSTTYPE` | 显示主机的架构，是 `i386`、`i686`、`x86`、`x64` 等：`x86_64` |
| `LANG`     | 最常用的系统环境变量，查询当前系统语言环境和字符集：`zh_CN.UTF-8` 或 `en_GB.UTF-8` |


### 自定义变量
就是自己定义的变量
#### 自定义变量分类
- 自定义局部变量
- 自定义常量
- 自定义全局变量

#### 自定义局部变量
就是定义在一个脚本文件中的变量, 只能在这个脚本文件中使用的变量, 就是局部变量
##### 定义与使用
###### 定义语法
```
var_name=value
```
##### 变量定义规则
- 变量名称可以有字母,数字和下划线组成, 但是不能以数字开头
- 等号两侧不能有空格
- 在bash环境中, 变量的默认类型都是字符串类型, 无法直接进行数值运算
- 变量的值如果有空格, 必须使用双引号括起来
- 不能使用Shell的关键字作为变量名称

##### 查询变量值语法
语法1----直接使用变量名查询
```
$var_name
```
语法2----使用花括号
```
${var_name}
```
区别
花括号方式适合拼接字符串

*注意: 如果 ```My name is ${var2}Style中 $var2``` 不带花括号, 系统会认为获取 ```$var2Style``` 变量数据, 这个变量不存在就获取不到数据*

**使用花括号是编程好习惯**

##### 变量删除
```
unset var_name
```

#### 自定义常量
变量设置值以后不可以修改的变量叫常量, 也叫只读变量
```
readonly var_name
```

#### 自定义全局变量
##### 父子Shell环境
例如:  有2个Shell脚本文件 A.sh 和 B.sh
如果在A.sh脚本文件中执行了B.sh脚本文件, 那么A.sh就是父Shell环境, B.sh就是子Shell环境
##### 自定义全局变量介绍
就是在当前脚本文件中定义全局变量, 这个全局变量可以在当前Shell环境与子Shell环境中都可以使用

**注意，只能在当前Shell环境与子Shell环境中使用，并不是全局都可以使用**

##### 自定义全局变量语法
```
export var_name1 var_name2
```





























